(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{49:function(e,t,o){},50:function(e,t,o){},57:function(e,t,o){"use strict";o.r(t);var c=o(0),a=o.n(c),n=o(31),r=o.n(n),l=(o(49),o(8)),i=o(5),s=(o(50),o(74)),d=o(75),u=o(76),p=o(77),m=o(3),g=.7191,b=Object(d.a)({card:{display:"flex",width:"100px",height:"139.06271728549578px",borderRadius:"8px",padding:"0px 4px 0px 4px",backgroundColor:"white",border:"3px solid black"},cardbg:{display:"flex",width:"94px",height:94/g+"px",borderRadius:"8px",border:"3px solid black",backgroundImage:"url(background2.png)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},cardtl:{display:"flex",alignItems:"flex-start"},cardbr:{display:"flex",alignItems:"flex-start",transform:"rotate(-180deg)"},cardValue:{fontSize:"30px"},cardSuit:{fontSize:"30px"},red:{color:"red"},black:{color:"black"},bgImg:{height:"100%"}}),v=a.a.memo((function(e){var t=b();e.card.isInGlobal&&e.card.suit;var o=Object(u.a)({accept:"Card",drop:function(){return{props:e.card}}}),c=Object(l.a)(o,2),a=c[0],n=(a.canDrop,a.isOver,c[1]),r=Object(p.a)({type:"Card",item:function(){return console.log(e.card.suit+" "+e.card.value),{card:e.card}},end:function(t,o){var c=o.getDropResult();if(t&&c){var a=t.card,n=c.props;if(void 0===a||void 0===n||a.pos===n.pos&&a.column===n.column)console.log("Something is undefined in useDrag or Cant drop a card on"),console.log(a),console.log(n);else if(console.log(a),console.log(n),n.isTop&&void 0!==e.moveCardToTopRight){var r=n.column;console.log("You dropped ".concat(a.value,", ").concat(a.suit," into topRightDeck ").concat(r)),e.moveCardToTopRight(a,r)}else a.isInGlobal&&void 0!==e.moveCardFromSplit?(console.log("You dropped ".concat(a.value,", ").concat(a.suit," from splitDeck into ").concat(n.value,", ").concat(n.suit)),e.moveCardFromSplit(a,n)):void 0===e.moveCard||n.isTop||(console.log("You dropped ".concat(a.value,", ").concat(a.suit," into ").concat(n.value,", ").concat(n.suit)),e.moveCard(a,n))}}}),i=Object(l.a)(r,3),d=(i[0],i[1]);i[2];return!1===e.turned||""===e.card.suit?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(s.a,{ref:function(t){e.canDrop&&n(t),e.canDrag&&d(t)},container:!0,direction:"row",className:t.card,style:{color:"\u2665\ufe0e"===e.card.suit||"\u2666\ufe0e"===e.card.suit?"red":"black",border:""===e.card.suit?"2px solid rgba(0, 0, 0, 0.3)":"3px solid rgba(0, 0, 0)",display:e.display?"":"none"},children:[Object(m.jsxs)(s.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.cardtl,children:[Object(m.jsx)(s.a,{item:!0,className:t.cardValue,children:e.card.value}),Object(m.jsx)(s.a,{item:!0,className:t.cardSuit,children:e.card.suit})]}),Object(m.jsxs)(s.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",className:t.cardbr,children:[Object(m.jsx)(s.a,{item:!0,className:t.cardValue,children:e.card.value}),Object(m.jsx)(s.a,{item:!0,className:t.cardSuit,children:e.card.suit})]})]}),e.children]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.a,{container:!0,style:{},children:Object(m.jsx)("div",{className:t.cardbg})}),e.children]})})),h=a.a.memo((function(e){var t=e.currentCard+1;Object(c.useCallback)((function(t,o){e.moveCard(t,o)}),[e.cards]),Object(c.useCallback)((function(t,o){e.moveCardToTopRight(t,o)}),[e.cards]);return e.currentCard<e.cards.length-1?Object(m.jsx)(s.a,{item:!0,style:{position:e.currentCard>0?"absolute":"static",top:1===e.currentCard?"0px":"43px"},children:Object(m.jsx)(v,{card:e.cards[e.currentCard],turned:!e.cards[e.currentCard].discovered,display:!0,canDrop:!1,canDrag:e.cards[e.currentCard].discovered,moveCard:e.moveCard,moveCardToTopRight:e.moveCardToTopRight,children:Object(m.jsx)(h,{cards:e.cards,column:e.column,totalCards:e.totalCards,currentCard:t,moveCard:e.moveCard,moveCardToTopRight:e.moveCardToTopRight})})}):Object(m.jsx)(s.a,{item:!0,style:{position:e.currentCard>0?"absolute":"static",top:1===e.currentCard?"0px":"43px"},children:Object(m.jsx)(v,{card:e.cards[e.currentCard],turned:!1,display:!0,canDrop:!0,canDrag:e.cards[e.currentCard].discovered,moveCard:e.moveCard,moveCardToTopRight:e.moveCardToTopRight})})})),j=function(e){return Object(m.jsx)(s.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"space-between",children:e.startingDeck.map((function(t,o){return Object(m.jsx)(s.a,{item:!0,style:{position:"relative"},children:t.length>0?Object(m.jsx)(h,{cards:t,column:o,totalCards:t.length,currentCard:0,moveCard:e.moveCard,moveCardToTopRight:e.moveCardToTopRight}):""},o)}))})},f=o(73),x=o(40);var O=function(e){var t=Object(c.useState)(-1),o=Object(l.a)(t,2),a=o[0],n=o[1],r=Object(c.useState)((function(){return a>-1?e.splitDeck[a]:[]})),i=Object(l.a)(r,2),d=i[0],u=i[1],p=Object(c.useCallback)((function(t,o){e.moveCardFromSplit(t,o)}),[e.topRightDeck,e.splitDeck]);return Object(m.jsxs)(s.a,{container:!0,direction:"row",justify:"space-between",children:[Object(m.jsx)(s.a,{item:!0,onClick:function(){console.log(a),a>=e.splitDeck.length-1?(e.updateSplitDeck(),n(-1),u([])):(console.log(e.splitDeck[a+1]),u(e.splitDeck[a+1]),n(a+1))},children:Object(m.jsx)(v,{card:{suit:"bg",value:"",numValue:-1,discovered:!1,column:-1,pos:-1,isTop:!1,isInGlobal:!1},turned:!0,display:!0,canDrop:!1,canDrag:!1})}),Object(m.jsx)(s.a,{item:!0,style:{width:"100px"},children:Object(m.jsx)(s.a,{container:!0,direction:"row",style:{position:"relative"},children:d.map((function(e,t){return Object(m.jsx)(s.a,{item:!0,style:{position:"absolute",left:50*t+"px"},children:Object(m.jsx)(v,{card:e,turned:!1,display:!0,canDrop:!1,canDrag:t===d.length-1,moveCardFromSplit:p})},t)}))})}),Object(m.jsx)(s.a,{item:!0,style:{width:"100px"}}),e.topRightDeck.map((function(e,t){return Object(m.jsx)(s.a,{item:!0,children:Object(m.jsx)(v,{card:e[e.length-1],turned:!1,display:!0,canDrop:!0,canDrag:!1})},t)}))]})},C=o(38),D=["\u2660\ufe0e","\u2665\ufe0e","\u2663\ufe0e","\u2666\ufe0e"],k=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],T=[1,2,3,4,5,6,7,8,9,10,11,12,13];function y(){for(var e=function(){for(var e=[],t=function(){var e,t=[],o=Object(C.a)(D);try{for(o.s();!(e=o.n()).done;)for(var c=e.value,a=0;a<k.length;a++)t.push({suit:c,value:k[a],numValue:T[a],discovered:!0,column:-1,pos:-1,isTop:!1,isInGlobal:!0})}catch(n){o.e(n)}finally{o.f()}return t}(),o=0;o<7;o++){var c=[];c.push({suit:"",value:"",numValue:-1,discovered:!1,column:o,pos:-1,isTop:!1,isInGlobal:!1});for(var a=0;a<=o;a++){var n=Math.floor(Math.random()*t.length),r=t[n];t.splice(n,1),r.column=o,r.pos=a,r.isInGlobal=!1,r.discovered=!1,a===o&&(r.discovered=!0),c.push(r)}e.push(c)}return{startingDeck:e,globalDeck:t}}(),t=[];e.globalDeck.length;)e.globalDeck.length-3>0?t.push(e.globalDeck.splice(e.globalDeck.length-3,3)):t.push(e.globalDeck.splice(0,e.globalDeck.length));return{splitDeck:t,startingDeck:e.startingDeck}}function S(e,t){if(""===t.suit&&""===t.value&&-1===t.pos)return!0;if("\u2665\ufe0e"===t.suit||"\u2666\ufe0e"===t.suit){if(e.numValue+1===t.numValue&&("\u2663\ufe0e"===e.suit||"\u2660\ufe0e"===e.suit))return!0}else if(e.numValue+1===t.numValue&&("\u2665\ufe0e"===e.suit||"\u2666\ufe0e"===e.suit))return!0;return console.log("INVALID MOVE"),!1}function I(e,t){return""===t.suit&&""===t.value&&"A"===e.value||(console.log("First card must be A"),e.numValue===t.numValue+1&&e.suit===t.suit||(console.log("Selected card must be same suit and one value higher"),console.log("INVALID MOVE"),!1))}var R=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),o=t[0],a=t[1],n=Object(c.useState)([]),r=Object(l.a)(n,2),d=r[0],u=r[1],p=Object(c.useState)([]),g=Object(l.a)(p,2),b=g[0],v=g[1];return Object(c.useEffect)((function(){var e=y();a(e.startingDeck),u(e.splitDeck),v([[{suit:"",value:"",numValue:-1,discovered:!1,column:0,pos:-1,isTop:!0,isInGlobal:!1}],[{suit:"",value:"",numValue:-1,discovered:!1,column:1,pos:-1,isTop:!0,isInGlobal:!1}],[{suit:"",value:"",numValue:-1,discovered:!1,column:2,pos:-1,isTop:!0,isInGlobal:!1}],[{suit:"",value:"",numValue:-1,discovered:!1,column:3,pos:-1,isTop:!0,isInGlobal:!1}]]),console.log("Board initialized")}),[]),console.log(o),console.log(d),Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(f.a,{backend:x.a,children:Object(m.jsxs)(s.a,{container:!0,spacing:8,direction:"column",style:{margin:"20px 18vw 20px 18vw"},children:[Object(m.jsx)(s.a,{item:!0,children:Object(m.jsx)(O,{topRightDeck:b,splitDeck:d,moveCardFromSplit:function(e,t){if(void 0!==e&&void 0!==t&&function(e,t){return t.isTop?I(e,t):S(e,t)}(e,t)){for(var c=Object(i.a)(d),n=0;n<c.length;n++)e===c[n][c[n].length-1]&&c[n].splice(-1,1);if(t.isTop){var r=Object(i.a)(b);e.isTop=!0,e.column=t.column,r[t.column].push(e),v(r)}else{e.column=t.column,e.pos=t.pos+1,e.isInGlobal=!1;var l=Object(i.a)(o);l[t.column].push(e),a(l)}u(c)}else console.log("Something undefined or illegeal move in moveCardFromTop")},updateSplitDeck:function(){console.log("Resetting");for(var e=Object(i.a)(d),t=[],o=0;o<e.length;o++)t=e[o].concat(t);for(e=[];t.length;)t.length-3>0?e.push(t.splice(t.length-3,3)):e.push(t.splice(0,t.length));console.log(e),u(e)}})}),Object(m.jsx)(s.a,{item:!0,children:Object(m.jsx)(j,{startingDeck:o,moveCard:function(e,t){if(void 0!==e&&void 0!==t&&S(e,t)){var c=Object(i.a)(o),n=c[e.column].splice(e.pos+1,c[e.column].length-1);c[e.column].length>1&&(c[e.column][c[e.column].length-1].discovered=!0);for(var r=0;r<n.length;r++)n[r].column=t.column,n[r].pos=c[t.column].length-1,c[t.column].push(n[r]);a(c)}else console.log("Something undefined or illegeal move in moveCard")},moveCardToTopRight:function(e,t){var c=Object(i.a)(b),n=Object(i.a)(o);void 0!==e&&I(e,c[t][c[t].length-1])&&n[e.column].length-2===e.pos?(n[e.column].splice(e.pos+1,1),n[e.column].length>1&&(n[e.column][n[e.column].length-1].discovered=!0),e.isTop=!0,e.column=t,c[t].push(e),a(n),v(c)):console.log("Something undefined or illegeal movein moveCardToTopRow")}})})]})})})},V=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,79)).then((function(t){var o=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;o(e),c(e),a(e),n(e),r(e)}))};r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(R,{})}),document.getElementById("root")),V()}},[[57,1,2]]]);
//# sourceMappingURL=main.622275db.chunk.js.map